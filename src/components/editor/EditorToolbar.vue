<script lang="ts" setup>
import BaseButton from '@/components/common/BaseButton.vue';
import BaseSection from '@/components/common/BaseSection.vue';

defineProps<{
  imageUrl: string;
  drawingMode: boolean;
  textMode: boolean;
}>();

const emit = defineEmits<{
  openImageSourceModal: [];
  resizeImage: [];
  saveImage: [];
  copyImage: [];
  addRectangle: [];
  addArrow: [];
  toggleDrawingMode: [];
  toggleTextMode: [];
}>();
</script>

<template>
  <aside
    class="w-sidebar bg-dark-panel border-dark-border flex flex-col overflow-y-auto border-r p-4"
  >
    <BaseSection title="ãƒ•ã‚¡ã‚¤ãƒ«">
      <BaseButton color="primary" @click="emit('openImageSourceModal')">
        ğŸ“ ç”»åƒã‚’é–‹ã
      </BaseButton>
      <BaseButton :disabled="!imageUrl" @click="emit('resizeImage')">
        ğŸ” ãƒªã‚µã‚¤ã‚º (840px)
      </BaseButton>
      <div class="flex gap-2">
        <BaseButton :disabled="!imageUrl" @click="emit('saveImage')">
          ğŸ’¾ ä¿å­˜
        </BaseButton>
        <BaseButton
          :disabled="!imageUrl"
          @click="emit('copyImage')"
          title="ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼"
        >
          ğŸ“‹
        </BaseButton>
      </div>
    </BaseSection>

    <BaseSection title="ãŠçµµæã">
      <BaseButton
        :color="drawingMode ? 'primary' : 'tertiary'"
        :disabled="!imageUrl"
        @click="emit('toggleDrawingMode')"
      >
        ğŸ–Šï¸ {{ drawingMode ? 'ãƒšãƒ³ (ON)' : 'ãƒšãƒ³' }}
      </BaseButton>
    </BaseSection>

    <BaseSection title="å›³å½¢ãƒ»ãƒ†ã‚­ã‚¹ãƒˆ">
      <BaseButton
        :color="textMode ? 'primary' : 'tertiary'"
        :disabled="!imageUrl"
        @click="emit('toggleTextMode')"
      >
        A {{ textMode ? 'ãƒ†ã‚­ã‚¹ãƒˆ (ON)' : 'ãƒ†ã‚­ã‚¹ãƒˆ' }}
      </BaseButton>
      <BaseButton :disabled="!imageUrl" @click="emit('addRectangle')">
        â–­ çŸ©å½¢
      </BaseButton>
      <BaseButton :disabled="!imageUrl" @click="emit('addArrow')">
        âœ çŸ¢å°
      </BaseButton>
    </BaseSection>
  </aside>
</template>
